(function(){'use strict';const a=location.href;if(a.includes("/share/video/"))$(function(){replaceShareVideo()});else if(a.includes("m.tiktok.com/v/"))$(function(){jQuery.noConflict(!0),replaceVmVideo()});else{const a=new MutationObserver(function(a){a.forEach(function(a){0<a.addedNodes.length&&(a.addedNodes[0].classList.contains("video-box")||a.addedNodes[0].classList.contains("ReactModal__Overlay")?($(".video-player-pc-video-proxy").remove(),$(".loading").remove(),$("div.info").css("width","295px"),$("video").prop("controls",!0)):a.addedNodes[0].classList.contains("paly-btn")&&$(".paly-btn").css("pointer-events","none"))})}),b={childList:!0,subtree:!0};$(function(){a.observe($(".ReactModalPortal").get(0),b)}),xhook.after(function(a,b){if(a.url.includes("/share/item/list")){const a=/"urls":\[(.*?)]/g;let c,d=b.text;for(;null!==(c=a.exec(d));){const a=c[1],b=a.split(",");3>b.length||(d=d.replace(a,b[2].replace("watermark=1","watermark=0")))}b.text=d}})}})();function parseLink(a){const b=$(a).text(),c=b.indexOf("play_addr")+11,d=b.lastIndexOf("},\"cover\"")+1-c,e=b.substr(c,d);return JSON.parse(e).url_list[2]}function replaceShareVideo(){const a=window.__INIT_PROPS__["/share/video/:id"].videoData.itemInfos.video.urls[2].replace("watermark=1","watermark=0");$(".video-player-pc-video-proxy").remove(),$(".loading").remove(),$("video").attr("src",a).prop("controls",!0)}function replaceVmVideo(){const a=`<video controls autoplay loop src=${parseLink(document)} style="overflow: hidden; margin-left: 0; width: 100%; height: 100%;"/>`;$("#Video").empty().append(a)}